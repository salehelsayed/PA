{% extends "base.html" %}

{% block title %}Chat - AI Assistant{% endblock %}

{% block body %}
<nav class="navbar navbar-expand-lg navbar-light bg-light">
    <div class="container">
        <a class="navbar-brand" href="#">AI Assistant</a>
    </div>
</nav>

<!-- Flex Container for Chat and Input -->
<div class="container mt-4 d-flex flex-column" style="height: 80vh;">
    <div class="chat-container flex-grow-1 d-flex flex-column-reverse" id="chat-container">
        <!-- Messages will be added here dynamically -->
    </div>
</div>

<div id="input-container" class="container">
    <form id="chat-form" class="row g-3">
        <div class="col-10">
            <input type="text" class="form-control" id="user-input" placeholder="Type your message..." autocomplete="off" required>
        </div>
        <div class="col-2">
            <button type="submit" class="btn btn-primary w-100">Send</button>
        </div>
    </form>
</div>
{% endblock %}

{% block scripts %}
<script src="{{ url_for('static', filename='js/chat.js') }}"></script>
<script>
    // Ensure chat.js is loaded after the DOM
    document.addEventListener('DOMContentLoaded', function() {
        // Initialize chat functionality from chat.js
        initializeChat();
    });
</script>
{% endblock %}
